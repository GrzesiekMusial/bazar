{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\dev\\\\TESTY\\\\TEST NATIVE\\\\bazar\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport Lightbox from \"react-image-lightbox\";\nimport \"react-image-lightbox/style.css\";\nimport { FiShoppingBag as Bazar } from \"react-icons/fi\";\nimport { TiPinOutline as Board } from \"react-icons/ti\";\nimport { BiUserX as UserNotLogged, BiUserCheck as UserLogged } from \"react-icons/bi\";\nimport { CgAddR as AddNew } from \"react-icons/cg\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ProductDetails from \"./app/components/shop/productDetails\";\nimport ProductCards from \"./app/components/shop/productCards\";\nimport BoardCards from \"./app/components/board/boardCards\";\nimport Test from \"./app/components/other/home\";\nimport AddProduct from \"./app/components/shop/addProduct\";\nimport AddBoard from \"./app/components/board/addBoard\";\nimport Header from \"./app/components/common/header\";\nimport Add from \"./app/components/other/add\";\nimport Buttons from \"./app/components/common/buttons\";\nimport Login from \"./app/components/user/login\";\nimport Register from \"./app/components/user/register\";\nimport ProtectedRoute from \"./app/components/common/protectedRoute\";\nimport * as auth from \"./services/auth\";\nimport * as imagesBase from \"./services/images\";\nimport { ImCheckboxChecked } from \"react-icons/im\";\nimport { apiClient } from \"./services/client\";\napiClient.axiosInstance.interceptors.response.use(config => {\n  console.log(\"Interceptor ok \", config);\n  if (config.method === \"post\") return toast.done(\"saved\");\n  if (config.method === \"put\") return toast.done(\"edited\");\n  if (config.method === \"delete\") return toast.done(\"deleted\");\n}, error => {\n  console.log(\"Interceptor err \", error);\n  Promise.reject(error);\n});\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: null,\n      photoIndex: 0,\n      isOpen: false,\n      header: null,\n      buttons: null,\n      user: null,\n      load: false,\n      check: false\n    };\n\n    this.renderButtons = async () => {\n      const userBtn = this.state.user ? /*#__PURE__*/_jsxDEV(UserLogged, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 43\n      }, this) : /*#__PURE__*/_jsxDEV(UserNotLogged, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 60\n      }, this);\n      const buttons = [{\n        name: /*#__PURE__*/_jsxDEV(Board, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this),\n        ref: \"/board\"\n      }, {\n        name: /*#__PURE__*/_jsxDEV(Bazar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this),\n        ref: \"/bazar\"\n      }, {\n        name: /*#__PURE__*/_jsxDEV(AddNew, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this),\n        ref: \"/add\"\n      }, {\n        name: userBtn,\n        ref: \"/login\"\n      }];\n      this.setState({\n        buttons: buttons\n      });\n    };\n\n    this.renderTitle = t => {\n      this.setState({\n        header: t\n      });\n    };\n\n    this.renderImage = (img, index) => {\n      this.setState({\n        images: img,\n        photoIndex: index,\n        isOpen: true\n      });\n    };\n\n    this.renderUser = async () => {\n      const resp = await auth.getUser();\n      if (resp) this.setState({\n        user: resp\n      });\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.user !== this.state.user) {\n      this.renderButtons();\n    }\n  }\n\n  componentDidMount() {\n    this.renderButtons();\n    this.renderUser();\n  }\n\n  render(props) {\n    const {\n      isOpen,\n      photoIndex,\n      header,\n      user,\n      images,\n      buttons\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        title: header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), this.state.check && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner check\",\n        children: /*#__PURE__*/_jsxDEV(ImCheckboxChecked, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/bazar/add\",\n          title: this.renderTitle,\n          component: AddProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/add\",\n          render: () => /*#__PURE__*/_jsxDEV(Add, {\n            title: this.renderTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 39\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/board/edit/:id?\",\n          title: this.renderTitle,\n          component: AddBoard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/board/add\",\n          title: this.renderTitle,\n          component: AddBoard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/board/:id?\",\n          render: props => /*#__PURE__*/_jsxDEV(BoardCards, {\n            user: user,\n            title: this.renderTitle,\n            renderImage: this.renderImage,\n            ...props\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/bazar/product/edit/:id?\",\n          title: this.renderTitle,\n          component: AddProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/bazar/product/:id?\",\n          render: props => /*#__PURE__*/_jsxDEV(ProductDetails, {\n            title: this.renderTitle,\n            renderImage: this.renderImage,\n            user: user,\n            ...props\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/bazar/:id?\",\n          render: (props, match, user) => /*#__PURE__*/_jsxDEV(ProductCards, {\n            title: this.renderTitle,\n            ...props\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          render: props => /*#__PURE__*/_jsxDEV(Login, { ...props,\n            title: this.renderTitle,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          render: props => /*#__PURE__*/_jsxDEV(Register, { ...props,\n            title: this.renderTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/board\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Test, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this), buttons && /*#__PURE__*/_jsxDEV(Buttons, {\n        buttons: buttons,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 29\n      }, this), isOpen && /*#__PURE__*/_jsxDEV(Lightbox, {\n        mainSrc: imagesBase.get(images[photoIndex]),\n        nextSrc: imagesBase.get(images[(photoIndex + 1) % images.length]),\n        prevSrc: imagesBase.get(images[(photoIndex + images.length - 1) % images.length]),\n        onCloseRequest: () => this.setState({\n          isOpen: false\n        }),\n        onMovePrevRequest: () => this.setState({\n          photoIndex: (photoIndex + images.length - 1) % images.length\n        }),\n        onMoveNextRequest: () => this.setState({\n          photoIndex: (photoIndex + 1) % images.length\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/dev/TESTY/TEST NATIVE/bazar/src/App.js"],"names":["React","Component","Route","Redirect","Switch","Lightbox","FiShoppingBag","Bazar","TiPinOutline","Board","BiUserX","UserNotLogged","BiUserCheck","UserLogged","CgAddR","AddNew","ToastContainer","toast","ProductDetails","ProductCards","BoardCards","Test","AddProduct","AddBoard","Header","Add","Buttons","Login","Register","ProtectedRoute","auth","imagesBase","ImCheckboxChecked","apiClient","axiosInstance","interceptors","response","use","config","console","log","method","done","error","Promise","reject","App","state","images","photoIndex","isOpen","header","buttons","user","load","check","renderButtons","userBtn","name","ref","setState","renderTitle","t","renderImage","img","index","renderUser","resp","getUser","componentDidUpdate","prevProps","prevState","componentDidMount","render","props","match","get","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\n\r\nimport Lightbox from \"react-image-lightbox\";\r\nimport \"react-image-lightbox/style.css\";\r\n\r\nimport { FiShoppingBag as Bazar } from \"react-icons/fi\";\r\nimport { TiPinOutline as Board } from \"react-icons/ti\";\r\nimport {\r\n    BiUserX as UserNotLogged,\r\n    BiUserCheck as UserLogged,\r\n} from \"react-icons/bi\";\r\nimport { CgAddR as AddNew } from \"react-icons/cg\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport ProductDetails from \"./app/components/shop/productDetails\";\r\nimport ProductCards from \"./app/components/shop/productCards\";\r\nimport BoardCards from \"./app/components/board/boardCards\";\r\nimport Test from \"./app/components/other/home\";\r\nimport AddProduct from \"./app/components/shop/addProduct\";\r\nimport AddBoard from \"./app/components/board/addBoard\";\r\nimport Header from \"./app/components/common/header\";\r\nimport Add from \"./app/components/other/add\";\r\nimport Buttons from \"./app/components/common/buttons\";\r\nimport Login from \"./app/components/user/login\";\r\nimport Register from \"./app/components/user/register\";\r\nimport ProtectedRoute from \"./app/components/common/protectedRoute\";\r\n\r\nimport * as auth from \"./services/auth\";\r\nimport * as imagesBase from \"./services/images\";\r\n\r\nimport { ImCheckboxChecked } from \"react-icons/im\";\r\nimport { apiClient } from \"./services/client\";\r\n\r\napiClient.axiosInstance.interceptors.response.use(\r\n    (config) => {\r\n        console.log(\"Interceptor ok \", config);\r\n        if (config.method === \"post\") return toast.done(\"saved\");\r\n        if (config.method === \"put\") return toast.done(\"edited\");\r\n        if (config.method === \"delete\") return toast.done(\"deleted\");\r\n    },\r\n    (error) => {\r\n        console.log(\"Interceptor err \", error);\r\n\r\n        Promise.reject(error);\r\n    }\r\n);\r\n\r\nclass App extends Component {\r\n    state = {\r\n        images: null,\r\n        photoIndex: 0,\r\n        isOpen: false,\r\n        header: null,\r\n        buttons: null,\r\n        user: null,\r\n        load: false,\r\n        check: false,\r\n    };\r\n\r\n    renderButtons = async () => {\r\n        const userBtn = this.state.user ? <UserLogged /> : <UserNotLogged />;\r\n\r\n        const buttons = [\r\n            { name: <Board />, ref: \"/board\" },\r\n            { name: <Bazar />, ref: \"/bazar\" },\r\n            { name: <AddNew />, ref: \"/add\" },\r\n            { name: userBtn, ref: \"/login\" },\r\n        ];\r\n\r\n        this.setState({ buttons: buttons });\r\n    };\r\n\r\n    renderTitle = (t) => {\r\n        this.setState({ header: t });\r\n    };\r\n\r\n    renderImage = (img, index) => {\r\n        this.setState({ images: img, photoIndex: index, isOpen: true });\r\n    };\r\n\r\n    renderUser = async () => {\r\n        const resp = await auth.getUser();\r\n        if (resp) this.setState({ user: resp });\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.user !== this.state.user) {\r\n            this.renderButtons();\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.renderButtons();\r\n        this.renderUser();\r\n    }\r\n\r\n    render(props) {\r\n        const {\r\n            isOpen,\r\n            photoIndex,\r\n            header,\r\n            user,\r\n            images,\r\n            buttons,\r\n        } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <ToastContainer />\r\n\r\n                <Header title={header} />\r\n                {this.state.check && (\r\n                    <div className=\"spinner check\">\r\n                        <ImCheckboxChecked />\r\n                    </div>\r\n                )}\r\n\r\n                <Switch>\r\n                    <ProtectedRoute\r\n                        path=\"/bazar/add\"\r\n                        title={this.renderTitle}\r\n                        component={AddProduct}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/add\"\r\n                        render={() => <Add title={this.renderTitle} />}\r\n                    />\r\n\r\n                    <ProtectedRoute\r\n                        path=\"/board/edit/:id?\"\r\n                        title={this.renderTitle}\r\n                        component={AddBoard}\r\n                    />\r\n\r\n                    <ProtectedRoute\r\n                        path=\"/board/add\"\r\n                        title={this.renderTitle}\r\n                        component={AddBoard}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/board/:id?\"\r\n                        render={(props) => (\r\n                            <BoardCards\r\n                                user={user}\r\n                                title={this.renderTitle}\r\n                                renderImage={this.renderImage}\r\n                                {...props}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <ProtectedRoute\r\n                        path=\"/bazar/product/edit/:id?\"\r\n                        title={this.renderTitle}\r\n                        component={AddProduct}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/bazar/product/:id?\"\r\n                        render={(props) => (\r\n                            <ProductDetails\r\n                                title={this.renderTitle}\r\n                                renderImage={this.renderImage}\r\n                                user={user}\r\n                                {...props}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/bazar/:id?\"\r\n                        render={(props, match, user) => (\r\n                            <ProductCards title={this.renderTitle} {...props} />\r\n                        )}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/login\"\r\n                        render={(props) => (\r\n                            <Login\r\n                                {...props}\r\n                                title={this.renderTitle}\r\n                                user={user}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/register\"\r\n                        render={(props) => (\r\n                            <Register {...props} title={this.renderTitle} />\r\n                        )}\r\n                    />\r\n\r\n                    <Redirect to=\"/board\" />\r\n                </Switch>\r\n\r\n                <Test />\r\n\r\n                {buttons && <Buttons buttons={buttons} user={user} />}\r\n\r\n                {isOpen && (\r\n                    <Lightbox\r\n                        mainSrc={imagesBase.get(images[photoIndex])}\r\n                        nextSrc={imagesBase.get(\r\n                            images[(photoIndex + 1) % images.length]\r\n                        )}\r\n                        prevSrc={imagesBase.get(\r\n                            images[\r\n                                (photoIndex + images.length - 1) % images.length\r\n                            ]\r\n                        )}\r\n                        onCloseRequest={() => this.setState({ isOpen: false })}\r\n                        onMovePrevRequest={() =>\r\n                            this.setState({\r\n                                photoIndex:\r\n                                    (photoIndex + images.length - 1) %\r\n                                    images.length,\r\n                            })\r\n                        }\r\n                        onMoveNextRequest={() =>\r\n                            this.setState({\r\n                                photoIndex: (photoIndex + 1) % images.length,\r\n                            })\r\n                        }\r\n                    />\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}