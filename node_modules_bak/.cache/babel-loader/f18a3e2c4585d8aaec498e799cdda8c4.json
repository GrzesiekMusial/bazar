{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport * as imageBase from \"../api/images\";\nimport * as noticeBase from \"../api/notices\";\nimport * as productBase from \"../api/products\";\n\nconst noticeDelete = async card => {\n  try {\n    card.images.forEach(img => imageBase.remove(img));\n    const result = await noticeBase.remove(card._id);\n    if (result.ok) return result.data;else throw toast.error(\"Error when delete. \" + result.originalError.message);\n  } catch (ex) {\n    if (ex.response && ex.response.status === 404) throw toast.error(\"This product has already been deleted.\");else throw toast.error(\"Error when delete.\");\n  }\n};\n\nconst productDelete = async card => {\n  try {\n    card.images.forEach(img => imagesBase.remove(img));\n    const result = await prodBase.remove(card._id);\n    if (result.ok) return props.history.push(\"/bazar\");\n    toast.error(\"Error when delete. \" + result.originalError.message);\n  } catch (ex) {\n    if (ex.response && ex.response.status === 404) toast.error(\"This product has already been deleted.\");else toast.error(\"Error when delete.\");\n  }\n};\n\nconst dlt = async (card, base) => {\n  try {\n    card.images.forEach(img => imagesBase.remove(img));\n    const result = await base.remove(card._id);\n    if (result.ok) return props.history.push(\"/bazar\");\n    toast.error(\"Error when delete. \" + result.originalError.message);\n  } catch (ex) {\n    if (ex.response && ex.response.status === 404) toast.error(\"This product has already been deleted.\");else toast.error(\"Error when delete.\");\n  }\n};\n\nexport { noticeDelete, productDelete };","map":{"version":3,"sources":["C:/dev/TESTY/TEST NATIVE/bazar/src/methods/delete.js"],"names":["toast","imageBase","noticeBase","productBase","noticeDelete","card","images","forEach","img","remove","result","_id","ok","data","error","originalError","message","ex","response","status","productDelete","imagesBase","prodBase","props","history","push","dlt","base"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,OAAO,KAAKC,SAAZ,MAA2B,eAA3B;AACA,OAAO,KAAKC,UAAZ,MAA4B,gBAA5B;AACA,OAAO,KAAKC,WAAZ,MAA6B,iBAA7B;;AAEA,MAAMC,YAAY,GAAG,MAAOC,IAAP,IAAgB;AACjC,MAAI;AACAA,IAAAA,IAAI,CAACC,MAAL,CAAYC,OAAZ,CAAqBC,GAAD,IAASP,SAAS,CAACQ,MAAV,CAAiBD,GAAjB,CAA7B;AACA,UAAME,MAAM,GAAG,MAAMR,UAAU,CAACO,MAAX,CAAkBJ,IAAI,CAACM,GAAvB,CAArB;AACA,QAAID,MAAM,CAACE,EAAX,EAAe,OAAOF,MAAM,CAACG,IAAd,CAAf,KAEI,MAAMb,KAAK,CAACc,KAAN,CACF,wBAAwBJ,MAAM,CAACK,aAAP,CAAqBC,OAD3C,CAAN;AAGP,GARD,CAQE,OAAOC,EAAP,EAAW;AACT,QAAIA,EAAE,CAACC,QAAH,IAAeD,EAAE,CAACC,QAAH,CAAYC,MAAZ,KAAuB,GAA1C,EACI,MAAMnB,KAAK,CAACc,KAAN,CAAY,wCAAZ,CAAN,CADJ,KAEK,MAAMd,KAAK,CAACc,KAAN,CAAY,oBAAZ,CAAN;AACR;AACJ,CAdD;;AAgBA,MAAMM,aAAa,GAAG,MAAOf,IAAP,IAAgB;AAClC,MAAI;AACAA,IAAAA,IAAI,CAACC,MAAL,CAAYC,OAAZ,CAAqBC,GAAD,IAASa,UAAU,CAACZ,MAAX,CAAkBD,GAAlB,CAA7B;AACA,UAAME,MAAM,GAAG,MAAMY,QAAQ,CAACb,MAAT,CAAgBJ,IAAI,CAACM,GAArB,CAArB;AACA,QAAID,MAAM,CAACE,EAAX,EAAe,OAAOW,KAAK,CAACC,OAAN,CAAcC,IAAd,CAAmB,QAAnB,CAAP;AACfzB,IAAAA,KAAK,CAACc,KAAN,CAAY,wBAAwBJ,MAAM,CAACK,aAAP,CAAqBC,OAAzD;AACH,GALD,CAKE,OAAOC,EAAP,EAAW;AACT,QAAIA,EAAE,CAACC,QAAH,IAAeD,EAAE,CAACC,QAAH,CAAYC,MAAZ,KAAuB,GAA1C,EACInB,KAAK,CAACc,KAAN,CAAY,wCAAZ,EADJ,KAEKd,KAAK,CAACc,KAAN,CAAY,oBAAZ;AACR;AACJ,CAXD;;AAaA,MAAMY,GAAG,GAAG,OAAOrB,IAAP,EAAasB,IAAb,KAAsB;AAC9B,MAAI;AACAtB,IAAAA,IAAI,CAACC,MAAL,CAAYC,OAAZ,CAAqBC,GAAD,IAASa,UAAU,CAACZ,MAAX,CAAkBD,GAAlB,CAA7B;AACA,UAAME,MAAM,GAAG,MAAMiB,IAAI,CAAClB,MAAL,CAAYJ,IAAI,CAACM,GAAjB,CAArB;AACA,QAAID,MAAM,CAACE,EAAX,EAAe,OAAOW,KAAK,CAACC,OAAN,CAAcC,IAAd,CAAmB,QAAnB,CAAP;AACfzB,IAAAA,KAAK,CAACc,KAAN,CAAY,wBAAwBJ,MAAM,CAACK,aAAP,CAAqBC,OAAzD;AACH,GALD,CAKE,OAAOC,EAAP,EAAW;AACT,QAAIA,EAAE,CAACC,QAAH,IAAeD,EAAE,CAACC,QAAH,CAAYC,MAAZ,KAAuB,GAA1C,EACInB,KAAK,CAACc,KAAN,CAAY,wCAAZ,EADJ,KAEKd,KAAK,CAACc,KAAN,CAAY,oBAAZ;AACR;AACJ,CAXD;;AAaA,SAASV,YAAT,EAAuBgB,aAAvB","sourcesContent":["import { toast } from \"react-toastify\";\r\nimport * as imageBase from \"../api/images\";\r\nimport * as noticeBase from \"../api/notices\";\r\nimport * as productBase from \"../api/products\";\r\n\r\nconst noticeDelete = async (card) => {\r\n    try {\r\n        card.images.forEach((img) => imageBase.remove(img));\r\n        const result = await noticeBase.remove(card._id);\r\n        if (result.ok) return result.data;\r\n        else\r\n            throw toast.error(\r\n                \"Error when delete. \" + result.originalError.message\r\n            );\r\n    } catch (ex) {\r\n        if (ex.response && ex.response.status === 404)\r\n            throw toast.error(\"This product has already been deleted.\");\r\n        else throw toast.error(\"Error when delete.\");\r\n    }\r\n};\r\n\r\nconst productDelete = async (card) => {\r\n    try {\r\n        card.images.forEach((img) => imagesBase.remove(img));\r\n        const result = await prodBase.remove(card._id);\r\n        if (result.ok) return props.history.push(\"/bazar\");\r\n        toast.error(\"Error when delete. \" + result.originalError.message);\r\n    } catch (ex) {\r\n        if (ex.response && ex.response.status === 404)\r\n            toast.error(\"This product has already been deleted.\");\r\n        else toast.error(\"Error when delete.\");\r\n    }\r\n};\r\n\r\nconst dlt = async (card, base) => {\r\n    try {\r\n        card.images.forEach((img) => imagesBase.remove(img));\r\n        const result = await base.remove(card._id);\r\n        if (result.ok) return props.history.push(\"/bazar\");\r\n        toast.error(\"Error when delete. \" + result.originalError.message);\r\n    } catch (ex) {\r\n        if (ex.response && ex.response.status === 404)\r\n            toast.error(\"This product has already been deleted.\");\r\n        else toast.error(\"Error when delete.\");\r\n    }\r\n};\r\n\r\nexport { noticeDelete, productDelete };\r\n"]},"metadata":{},"sourceType":"module"}