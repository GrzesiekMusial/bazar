{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\TESTY\\\\TEST NATIVE\\\\bazar\\\\src\\\\app\\\\components\\\\productDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport ImageSlider from \"./common/imageSlider\";\nimport noPic from \"../../assets/media/no-image.png\";\nimport { toast } from \"react-toastify\";\nimport * as prodBase from \"../../api/products\";\n\nfunction ProductDetails(props) {\n  _s();\n\n  const [card, setCard] = useState(null);\n  useEffect(() => {\n    loadData();\n  }, []);\n  useEffect(() => {\n    if (card) props.title(card.title);\n    console.log(card);\n  }, [card]);\n\n  const loadData = async () => {\n    console.log(card);\n    const product = await prodBase.product(props.match.params.id);\n    setCard(product.data);\n  };\n\n  const handleDelete = async id => {\n    try {\n      prodBase.remove(id);\n      return props.history.push(\"/bazar\");\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404) toast.error(\"This product has already been deleted.\");else toast.error(\"Error when delete.\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, card && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screen__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productDetails__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ImageSlider, {\n    images: card.image && card.image[0] || noPic,\n    handleClick: (i, index, arr) => props.renderImage(arr, index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productDetails__details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, card.author.name ? card.author.name : card.author.login), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, card.date)), card.price && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productDetails__image--price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, card.price, \" z\\u0142\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productDetails__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, \" \", card.text)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productDetails__buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"actionBtn\",\n    onClick: handleDelete(card._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, \"USU\\u0143\"), \" \")));\n}\n\n_s(ProductDetails, \"8kpSoiYH2rHaMtdpNe0H/l8G1ZI=\");\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["C:/dev/TESTY/TEST NATIVE/bazar/src/app/components/productDetails.jsx"],"names":["React","useEffect","useState","ImageSlider","noPic","toast","prodBase","ProductDetails","props","card","setCard","loadData","title","console","log","product","match","params","id","data","handleDelete","remove","history","push","ex","response","status","error","image","i","index","arr","renderImage","author","name","login","date","price","text","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AAEA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAO,KAAKC,QAAZ,MAA0B,oBAA1B;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAAA;;AAC3B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,IAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,QAAQ;AACX,GAFQ,EAEN,EAFM,CAAT;AAIAV,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIQ,IAAJ,EAAUD,KAAK,CAACI,KAAN,CAAYH,IAAI,CAACG,KAAjB;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACH,GAHQ,EAGN,CAACA,IAAD,CAHM,CAAT;;AAKA,QAAME,QAAQ,GAAG,YAAY;AACzBE,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,UAAMM,OAAO,GAAG,MAAMT,QAAQ,CAACS,OAAT,CAAiBP,KAAK,CAACQ,KAAN,CAAYC,MAAZ,CAAmBC,EAApC,CAAtB;AACAR,IAAAA,OAAO,CAACK,OAAO,CAACI,IAAT,CAAP;AACH,GAJD;;AAMA,QAAMC,YAAY,GAAG,MAAOF,EAAP,IAAc;AAC/B,QAAI;AACAZ,MAAAA,QAAQ,CAACe,MAAT,CAAgBH,EAAhB;AACA,aAAOV,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,QAAnB,CAAP;AACH,KAHD,CAGE,OAAOC,EAAP,EAAW;AACT,UAAIA,EAAE,CAACC,QAAH,IAAeD,EAAE,CAACC,QAAH,CAAYC,MAAZ,KAAuB,GAA1C,EACIrB,KAAK,CAACsB,KAAN,CAAY,wCAAZ,EADJ,KAEKtB,KAAK,CAACsB,KAAN,CAAY,oBAAZ;AACR;AACJ,GATD;;AAWA,sBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKlB,IAAI,iBACD;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEQ,oBAAC,WAAD;AACI,IAAA,MAAM,EAAGA,IAAI,CAACmB,KAAL,IAAcnB,IAAI,CAACmB,KAAL,CAAW,CAAX,CAAf,IAAiCxB,KAD7C;AAEI,IAAA,WAAW,EAAE,CAACyB,CAAD,EAAIC,KAAJ,EAAWC,GAAX,KACTvB,KAAK,CAACwB,WAAN,CAAkBD,GAAlB,EAAuBD,KAAvB,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFR,CADJ,eAYI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKrB,IAAI,CAACwB,MAAL,CAAYC,IAAZ,GACKzB,IAAI,CAACwB,MAAL,CAAYC,IADjB,GAEKzB,IAAI,CAACwB,MAAL,CAAYE,KAHtB,CADJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI1B,IAAI,CAAC2B,IAAT,CANJ,CAZJ,EAoBK3B,IAAI,CAAC4B,KAAL,iBACG;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO5B,IAAI,CAAC4B,KAAZ,aADJ,CArBR,eAyBI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAQ5B,IAAI,CAAC6B,IAAb,CADJ,CAzBJ,eA6BI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,SAAS,EAAC,WADd;AAEI,IAAA,OAAO,EAAElB,YAAY,CAACX,IAAI,CAAC8B,GAAN,CAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAMc,GANd,CA7BJ,CAFR,CADJ;AA4CH;;GAzEQhC,c;;KAAAA,c;AA2ET,eAAeA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport ImageSlider from \"./common/imageSlider\";\r\nimport noPic from \"../../assets/media/no-image.png\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport * as prodBase from \"../../api/products\";\r\n\r\nfunction ProductDetails(props) {\r\n    const [card, setCard] = useState(null);\r\n\r\n    useEffect(() => {\r\n        loadData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (card) props.title(card.title);\r\n        console.log(card);\r\n    }, [card]);\r\n\r\n    const loadData = async () => {\r\n        console.log(card);\r\n        const product = await prodBase.product(props.match.params.id);\r\n        setCard(product.data);\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            prodBase.remove(id);\r\n            return props.history.push(\"/bazar\");\r\n        } catch (ex) {\r\n            if (ex.response && ex.response.status === 404)\r\n                toast.error(\"This product has already been deleted.\");\r\n            else toast.error(\"Error when delete.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"screen\">\r\n            {card && (\r\n                <div className=\"screen__container\">\r\n                    <div className=\"productDetails__image\">\r\n                        {\r\n                            <ImageSlider\r\n                                images={(card.image && card.image[0]) || noPic}\r\n                                handleClick={(i, index, arr) =>\r\n                                    props.renderImage(arr, index)\r\n                                }\r\n                            />\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"productDetails__details\">\r\n                        <p>\r\n                            {card.author.name\r\n                                ? card.author.name\r\n                                : card.author.login}\r\n                        </p>\r\n                        <p>{card.date}</p>\r\n                    </div>\r\n                    {card.price && (\r\n                        <div className=\"productDetails__image--price\">\r\n                            <span>{card.price} zł</span>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"productDetails__text\">\r\n                        <span> {card.text}</span>\r\n                    </div>\r\n\r\n                    <div className=\"productDetails__buttons\">\r\n                        <button\r\n                            className=\"actionBtn\"\r\n                            onClick={handleDelete(card._id)}\r\n                        >\r\n                            USUŃ\r\n                        </button>{\" \"}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductDetails;\r\n"]},"metadata":{},"sourceType":"module"}