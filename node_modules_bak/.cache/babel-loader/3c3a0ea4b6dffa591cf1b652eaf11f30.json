{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\dev\\\\TESTY\\\\TEST NATIVE\\\\bazar\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport Lightbox from \"react-image-lightbox\";\nimport \"react-image-lightbox/style.css\";\nimport { FiShoppingBag as Bazar } from \"react-icons/fi\";\nimport { TiPinOutline as Board } from \"react-icons/ti\";\nimport { GrBookmark as Priv } from \"react-icons/gr\";\nimport { BiUserX as UserNotLogged, BiUserCheck as UserLogged } from \"react-icons/bi\";\nimport { CgAddR as AddNew } from \"react-icons/cg\";\nimport ProductDetails from \"./app/components/productDetails\";\nimport ProductCards from \"./app/components/productCards\";\nimport BoardCards from \"./app/components/boardCards\";\nimport Test from \"./app/components/home\";\nimport AddProduct from \"./app/components/addProduct\";\nimport AddBoard from \"./app/components/addBoard\";\nimport Header from \"./app/components/common/header\";\nimport Add from \"./app/components/add\";\nimport Buttons from \"./app/components/common/buttons\";\nimport Login from \"./app/components/login\";\nimport Register from \"./app/components/register\";\nimport * as auth from \"./api/auth\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: null,\n      photoIndex: 0,\n      isOpen: false,\n      header: null,\n      buttons: null,\n      user: null\n    };\n\n    this.renderButtons = () => {\n      const userBtn = this.state.user === null ? /*#__PURE__*/_jsxDEV(UserNotLogged, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 40\n      }, this) : /*#__PURE__*/_jsxDEV(UserLogged, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 60\n      }, this);\n      const buttons = [{\n        name: /*#__PURE__*/_jsxDEV(Board, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this),\n        ref: \"/board\"\n      }, {\n        name: /*#__PURE__*/_jsxDEV(Bazar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this),\n        ref: \"/bazar\"\n      }, {\n        name: /*#__PURE__*/_jsxDEV(AddNew, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this),\n        ref: \"/add\"\n      }, {\n        name: userBtn,\n        ref: \"/login\"\n      }];\n      this.setState({\n        buttons: buttons\n      });\n    };\n\n    this.renderTitle = t => {\n      console.log(t);\n      this.setState({\n        header: t\n      });\n    };\n\n    this.addProduct = p => {\n      const newData = this.state.data;\n      p.id = newData.length;\n      newData.push(p);\n      this.setState({\n        data: newData\n      });\n    };\n\n    this.renderImage = (img, index) => {\n      console.log(img, index);\n      this.setState({\n        images: img,\n        photoIndex: index,\n        isOpen: true\n      });\n    };\n\n    this.setUser = user => {\n      this.setState({\n        user: user\n      });\n      console.log(user);\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.user !== this.state.user) {\n      this.renderButtons();\n    }\n  }\n\n  componentDidMount() {\n    try {\n      const user = auth.getUser();\n      this.setState({\n        user\n      });\n    } catch (ex) {}\n\n    this.renderButtons();\n  }\n\n  render() {\n    const {\n      isOpen,\n      photoIndex\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        title: this.state.header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/add\",\n          render: props => /*#__PURE__*/_jsxDEV(Add, {\n            add: this.addProduct,\n            title: this.renderTitle,\n            ...props\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/bazar/add\",\n          render: props => /*#__PURE__*/_jsxDEV(AddProduct, {\n            add: this.addProduct,\n            title: this.renderTitle,\n            ...props,\n            user: this.state.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/bazar/add\",\n          title: this.renderTitle,\n          user: this.state.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/board/add\",\n          render: (props, match) => /*#__PURE__*/_jsxDEV(AddBoard, {\n            title: this.renderTitle,\n            ...props,\n            user: this.state.user,\n            ...match\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/board\",\n          render: props => /*#__PURE__*/_jsxDEV(BoardCards, {\n            title: this.renderTitle,\n            renderImage: this.renderImage,\n            ...props\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/bazar/product/:id?\",\n          render: props => /*#__PURE__*/_jsxDEV(ProductDetails, {\n            title: this.renderTitle,\n            renderImage: this.renderImage,\n            ...props\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/bazar/:category?/:text?\",\n          render: (props, match) => /*#__PURE__*/_jsxDEV(ProductCards, {\n            title: this.renderTitle,\n            ...props,\n            ...match\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          render: (props, location) => /*#__PURE__*/_jsxDEV(Login, { ...props,\n            title: this.renderTitle,\n            setUser: this.setUser,\n            user: this.state.user,\n            historyLocation: location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          render: props => /*#__PURE__*/_jsxDEV(Register, { ...props,\n            title: this.renderTitle,\n            setUser: this.setUser,\n            user: this.state.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/bazar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Test, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this), this.state.buttons && /*#__PURE__*/_jsxDEV(Buttons, {\n        buttons: this.state.buttons,\n        user: this.state.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this), isOpen && /*#__PURE__*/_jsxDEV(Lightbox, {\n        mainSrc: this.state.images[photoIndex],\n        nextSrc: this.state.images[(photoIndex + 1) % this.state.images.length],\n        prevSrc: this.state.images[(photoIndex + this.state.images.length - 1) % this.state.images.length],\n        onCloseRequest: () => this.setState({\n          isOpen: false\n        }),\n        onMovePrevRequest: () => this.setState({\n          photoIndex: (photoIndex + this.state.images.length - 1) % this.state.images.length\n        }),\n        onMoveNextRequest: () => this.setState({\n          photoIndex: (photoIndex + 1) % this.state.images.length\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/dev/TESTY/TEST NATIVE/bazar/src/App.js"],"names":["React","Component","Route","Redirect","Switch","Lightbox","FiShoppingBag","Bazar","TiPinOutline","Board","GrBookmark","Priv","BiUserX","UserNotLogged","BiUserCheck","UserLogged","CgAddR","AddNew","ProductDetails","ProductCards","BoardCards","Test","AddProduct","AddBoard","Header","Add","Buttons","Login","Register","auth","App","state","images","photoIndex","isOpen","header","buttons","user","renderButtons","userBtn","name","ref","setState","renderTitle","t","console","log","addProduct","p","newData","data","id","length","push","renderImage","img","index","setUser","componentDidUpdate","prevProps","prevState","componentDidMount","getUser","ex","render","props","match","location"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\n\r\nimport Lightbox from \"react-image-lightbox\";\r\nimport \"react-image-lightbox/style.css\";\r\n\r\nimport { FiShoppingBag as Bazar } from \"react-icons/fi\";\r\nimport { TiPinOutline as Board } from \"react-icons/ti\";\r\nimport { GrBookmark as Priv } from \"react-icons/gr\";\r\nimport {\r\n    BiUserX as UserNotLogged,\r\n    BiUserCheck as UserLogged,\r\n} from \"react-icons/bi\";\r\nimport { CgAddR as AddNew } from \"react-icons/cg\";\r\n\r\nimport ProductDetails from \"./app/components/productDetails\";\r\nimport ProductCards from \"./app/components/productCards\";\r\nimport BoardCards from \"./app/components/boardCards\";\r\nimport Test from \"./app/components/home\";\r\nimport AddProduct from \"./app/components/addProduct\";\r\nimport AddBoard from \"./app/components/addBoard\";\r\nimport Header from \"./app/components/common/header\";\r\nimport Add from \"./app/components/add\";\r\nimport Buttons from \"./app/components/common/buttons\";\r\nimport Login from \"./app/components/login\";\r\nimport Register from \"./app/components/register\";\r\n\r\nimport * as auth from \"./api/auth\";\r\n\r\nclass App extends Component {\r\n    state = {\r\n        images: null,\r\n        photoIndex: 0,\r\n        isOpen: false,\r\n        header: null,\r\n        buttons: null,\r\n        user: null,\r\n    };\r\n\r\n    renderButtons = () => {\r\n        const userBtn =\r\n            this.state.user === null ? <UserNotLogged /> : <UserLogged />;\r\n\r\n        const buttons = [\r\n            { name: <Board />, ref: \"/board\" },\r\n            { name: <Bazar />, ref: \"/bazar\" },\r\n            { name: <AddNew />, ref: \"/add\" },\r\n            { name: userBtn, ref: \"/login\" },\r\n        ];\r\n\r\n        this.setState({ buttons: buttons });\r\n    };\r\n\r\n    renderTitle = (t) => {\r\n        console.log(t);\r\n        this.setState({ header: t });\r\n    };\r\n\r\n    addProduct = (p) => {\r\n        const newData = this.state.data;\r\n        p.id = newData.length;\r\n        newData.push(p);\r\n        this.setState({ data: newData });\r\n    };\r\n\r\n    renderImage = (img, index) => {\r\n        console.log(img, index);\r\n        this.setState({ images: img, photoIndex: index, isOpen: true });\r\n    };\r\n\r\n    setUser = (user) => {\r\n        this.setState({ user: user });\r\n        console.log(user);\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.user !== this.state.user) {\r\n            this.renderButtons();\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        try {\r\n            const user = auth.getUser();\r\n            this.setState({ user });\r\n        } catch (ex) {}\r\n\r\n        this.renderButtons();\r\n    }\r\n\r\n    render() {\r\n        const { isOpen, photoIndex } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <Header title={this.state.header} />\r\n                <Switch>\r\n                    <Route\r\n                        path=\"/add\"\r\n                        render={(props) => (\r\n                            <Add\r\n                                add={this.addProduct}\r\n                                title={this.renderTitle}\r\n                                {...props}\r\n                            />\r\n                        )}\r\n                    />\r\n                    <Route\r\n                        path=\"/bazar/add\"\r\n                        render={(props) => (\r\n                            <AddProduct\r\n                                add={this.addProduct}\r\n                                title={this.renderTitle}\r\n                                {...props}\r\n                                user={this.state.user}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <ProtectedRoute\r\n                        path=\"/bazar/add\"\r\n                        title={this.renderTitle}\r\n                        user={this.state.user}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/board/add\"\r\n                        render={(props, match) => (\r\n                            <AddBoard\r\n                                title={this.renderTitle}\r\n                                {...props}\r\n                                user={this.state.user}\r\n                                {...match}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/board\"\r\n                        render={(props) => (\r\n                            <BoardCards\r\n                                title={this.renderTitle}\r\n                                renderImage={this.renderImage}\r\n                                {...props}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/bazar/product/:id?\"\r\n                        render={(props) => (\r\n                            <ProductDetails\r\n                                title={this.renderTitle}\r\n                                renderImage={this.renderImage}\r\n                                {...props}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/bazar/:category?/:text?\"\r\n                        render={(props, match) => (\r\n                            <ProductCards\r\n                                title={this.renderTitle}\r\n                                {...props}\r\n                                {...match}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/login\"\r\n                        render={(props, location) => (\r\n                            <Login\r\n                                {...props}\r\n                                title={this.renderTitle}\r\n                                setUser={this.setUser}\r\n                                user={this.state.user}\r\n                                historyLocation={location}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    <Route\r\n                        path=\"/register\"\r\n                        render={(props) => (\r\n                            <Register\r\n                                {...props}\r\n                                title={this.renderTitle}\r\n                                setUser={this.setUser}\r\n                                user={this.state.user}\r\n                            />\r\n                        )}\r\n                    />\r\n\r\n                    {/* <Route path=\"/bazar\" component={ProductCards} /> */}\r\n                    {/* <Route path=\"/board\" component={BoardCards} /> */}\r\n                    {/* <Route path=\"/board/new\" component={AddBoard} /> */}\r\n                    {/* <Route path=\"/not-found\" component={NotFound} /> */}\r\n                    <Redirect to=\"/bazar\" />\r\n                </Switch>\r\n\r\n                <Test />\r\n\r\n                {this.state.buttons && (\r\n                    <Buttons\r\n                        buttons={this.state.buttons}\r\n                        user={this.state.user}\r\n                    />\r\n                )}\r\n\r\n                {isOpen && (\r\n                    <Lightbox\r\n                        mainSrc={this.state.images[photoIndex]}\r\n                        nextSrc={\r\n                            this.state.images[\r\n                                (photoIndex + 1) % this.state.images.length\r\n                            ]\r\n                        }\r\n                        prevSrc={\r\n                            this.state.images[\r\n                                (photoIndex + this.state.images.length - 1) %\r\n                                    this.state.images.length\r\n                            ]\r\n                        }\r\n                        onCloseRequest={() => this.setState({ isOpen: false })}\r\n                        onMovePrevRequest={() =>\r\n                            this.setState({\r\n                                photoIndex:\r\n                                    (photoIndex +\r\n                                        this.state.images.length -\r\n                                        1) %\r\n                                    this.state.images.length,\r\n                            })\r\n                        }\r\n                        onMoveNextRequest={() =>\r\n                            this.setState({\r\n                                photoIndex:\r\n                                    (photoIndex + 1) % this.state.images.length,\r\n                            })\r\n                        }\r\n                    />\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}